<roblox xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.roblox.com/roblox.xsd" version="4">
	<External>null</External>
	<External>nil</External>
	<Item class="Tool" referent="RBX671BEBBC8F0947D9B2FB6F8BC6E19B0D">
		<Properties>
			<bool name="CanBeDropped">true</bool>
			<bool name="Enabled">true</bool>
			<CoordinateFrame name="Grip">
				<X>0</X>
				<Y>0.5</Y>
				<Z>0.600000024</Z>
				<R00>1</R00>
				<R01>0</R01>
				<R02>0</R02>
				<R10>0</R10>
				<R11>1</R11>
				<R12>0</R12>
				<R20>0</R20>
				<R21>0</R21>
				<R22>1</R22>
			</CoordinateFrame>
			<bool name="ManualActivationOnly">false</bool>
			<string name="Name">RubyhordeTheRapacious&apos;Treasure</string>
			<Content name="TextureId"><url>http://www.roblox.com/asset/?id=117543465</url></Content>
			<string name="ToolTip"></string>
		</Properties>
		<Item class="Part" referent="RBX84ABB3C201F24DF9BB45331144DB5708">
			<Properties>
				<bool name="Anchored">false</bool>
				<float name="BackParamA">-0.5</float>
				<float name="BackParamB">0.5</float>
				<token name="BackSurface">0</token>
				<token name="BackSurfaceInput">0</token>
				<float name="BottomParamA">-0.5</float>
				<float name="BottomParamB">0.5</float>
				<token name="BottomSurface">0</token>
				<token name="BottomSurfaceInput">0</token>
				<int name="BrickColor">194</int>
				<CoordinateFrame name="CFrame">
					<X>-29.5199928</X>
					<Y>42.3549995</Y>
					<Z>57.4550095</Z>
					<R00>1</R00>
					<R01>0</R01>
					<R02>0</R02>
					<R10>0</R10>
					<R11>1</R11>
					<R12>0</R12>
					<R20>0</R20>
					<R21>0</R21>
					<R22>1</R22>
				</CoordinateFrame>
				<bool name="CanCollide">true</bool>
				<float name="Elasticity">0.5</float>
				<float name="Friction">0.300000012</float>
				<float name="FrontParamA">-0.5</float>
				<float name="FrontParamB">0.5</float>
				<token name="FrontSurface">0</token>
				<token name="FrontSurfaceInput">0</token>
				<float name="LeftParamA">-0.5</float>
				<float name="LeftParamB">0.5</float>
				<token name="LeftSurface">0</token>
				<token name="LeftSurfaceInput">0</token>
				<bool name="Locked">true</bool>
				<token name="Material">256</token>
				<string name="Name">Handle</string>
				<float name="Reflectance">0</float>
				<float name="RightParamA">-0.5</float>
				<float name="RightParamB">0.5</float>
				<token name="RightSurface">0</token>
				<token name="RightSurfaceInput">0</token>
				<Vector3 name="RotVelocity">
					<X>0</X>
					<Y>0</Y>
					<Z>0</Z>
				</Vector3>
				<float name="TopParamA">-0.5</float>
				<float name="TopParamB">0.5</float>
				<token name="TopSurface">0</token>
				<token name="TopSurfaceInput">0</token>
				<float name="Transparency">0</float>
				<Vector3 name="Velocity">
					<X>0</X>
					<Y>0</Y>
					<Z>0</Z>
				</Vector3>
				<token name="formFactorRaw">3</token>
				<token name="shape">1</token>
				<Vector3 name="size">
					<X>2.4300015</X>
					<Y>1.61000037</Y>
					<Z>1.75000036</Z>
				</Vector3>
			</Properties>
			<Item class="SpecialMesh" referent="RBX0D264D3078AE43D598906A67C10AFBB1">
				<Properties>
					<token name="LODX">2</token>
					<token name="LODY">2</token>
					<Content name="MeshId"><url>http://www.roblox.com/asset/?id=117542870</url></Content>
					<token name="MeshType">5</token>
					<string name="Name">Mesh</string>
					<Vector3 name="Offset">
						<X>0</X>
						<Y>0</Y>
						<Z>0</Z>
					</Vector3>
					<Vector3 name="Scale">
						<X>1.5</X>
						<Y>1.5</Y>
						<Z>1.5</Z>
					</Vector3>
					<Content name="TextureId"><url>http://www.roblox.com/asset/?id=117543057</url></Content>
					<Vector3 name="VertexColor">
						<X>1</X>
						<Y>1</Y>
						<Z>1</Z>
					</Vector3>
				</Properties>
			</Item>
			<Item class="Sound" referent="RBXB2534EAF372647E2AB21A21BE3AD0A73">
				<Properties>
					<bool name="Looped">false</bool>
					<string name="Name">Shake</string>
					<float name="Pitch">1</float>
					<bool name="PlayOnRemove">false</bool>
					<Content name="SoundId"><url>http://www.roblox.com/Asset?ID=99817538</url></Content>
					<float name="Volume">1</float>
				</Properties>
			</Item>
		</Item>
		<Item class="Animation" referent="RBX423F7351C511490DA06B9B9A3E0C3459">
			<Properties>
				<Content name="AnimationId"><url>http://www.roblox.com/Asset?ID=99807079</url></Content>
				<string name="Name">Shake</string>
			</Properties>
		</Item>
		<Item class="Camera" referent="RBX4B0ABD19CC384AFCB757CD7DEA7794E7">
			<Properties>
				<Ref name="CameraSubject">null</Ref>
				<token name="CameraType">0</token>
				<CoordinateFrame name="CoordinateFrame">
					<X>-26.6699314</X>
					<Y>43.1254425</Y>
					<Z>53.9684105</Z>
					<R00>-0.779482067</R00>
					<R01>-0.136646405</R01>
					<R02>0.611339092</R02>
					<R10>-0</R10>
					<R11>0.975918114</R11>
					<R12>0.218137056</R12>
					<R20>-0.626424551</R20>
					<R21>0.170033917</R21>
					<R22>-0.760710657</R22>
				</CoordinateFrame>
				<float name="FieldOfView">50.0000038</float>
				<CoordinateFrame name="Focus">
					<X>-28.3816776</X>
					<Y>42.5146599</Y>
					<Z>56.0983963</Z>
					<R00>1</R00>
					<R01>0</R01>
					<R02>0</R02>
					<R10>0</R10>
					<R11>1</R11>
					<R12>0</R12>
					<R20>0</R20>
					<R21>0</R21>
					<R22>1</R22>
				</CoordinateFrame>
				<string name="Name">ThumbnailCamera</string>
			</Properties>
		</Item>
		<Item class="Script" referent="RBXEE0CE7BD634D41D2B80F72C45D161EBF">
			<Properties>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">Script</string>
				<ProtectedString name="Source"><![CDATA[--Rescripted by Luckymaxer

Tool = script.Parent
Handle = Tool:WaitForChild("Handle")

Players = game:GetService("Players")
Debris = game:GetService("Debris")

PickUpScript = script:WaitForChild("PickUpScript")
CallScript = script:WaitForChild("CallScript")

BaseUrl = "http://www.roblox.com/asset/?id="

Grips = {
	Unequipped = CFrame.new(0, 0.5, 0.6, 1, 0, 0, 0, 1, 0, 0, 0, 1),
	Equipped = CFrame.new(0, 0.5, 0.7, 1, 0, 0, 0, 1, 0, 0, 0, 1),
}

Animations = {
	Shake = {Animation = Tool:WaitForChild("Shake"), FadeTime = 0.1, Weight = 1, Speed = 1},
}

Sounds = {
	Shake = Handle:WaitForChild("Shake"),
}

BasePart = Instance.new("Part")
BasePart.Shape = Enum.PartType.Block
BasePart.Material = Enum.Material.Plastic
BasePart.TopSurface = Enum.SurfaceType.Smooth
BasePart.BottomSurface = Enum.SurfaceType.Smooth
BasePart.FormFactor = Enum.FormFactor.Custom
BasePart.Size = Vector3.new(0.2, 0.2, 0.2)
BasePart.CanCollide = true
BasePart.Locked = true
BasePart.Anchored = false

BaseCoin = BasePart:Clone()
BaseCoin.Name = "Coin"
BaseCoin.Size = Vector3.new(1, 0.4, 1)
BaseCoin.BrickColor = BrickColor.new("Dark green")
CoinMesh = Instance.new("SpecialMesh")
CoinMesh.MeshType = Enum.MeshType.FileMesh
CoinMesh.MeshId = (BaseUrl .. "19059116")
CoinMesh.TextureId = (BaseUrl .. "19059111")
CoinMesh.Scale = Vector3.new(1, 1, 1)
CoinMesh.Offset = Vector3.new(0, 0, 0)
CoinMesh.VertexColor = Vector3.new(1, 1, 1)
CoinMesh.Parent = BaseCoin
PickUpSound = Instance.new("Sound")
PickUpSound.Name = "PickUpSound"
PickUpSound.Volume = 1
PickUpSound.Pitch = 1
PickUpSound.SoundId = (BaseUrl .. "97688233")
PickUpSound.Parent = BaseCoin

MaxDistance = 25
GearTakenPerUse = 8
TakeRate = 0.2
ReloadTime = 15

ToolActive = false
ToolEquipped = false

ServerControl = (Tool:FindFirstChild("ServerControl") or Instance.new("RemoteFunction"))
ServerControl.Name = "ServerControl"
ServerControl.Parent = Tool

ClientControl = (Tool:FindFirstChild("ClientControl") or Instance.new("RemoteFunction"))
ClientControl.Name = "ClientControl"
ClientControl.Parent = Tool

Tool.Grip = Grips.Unequipped
Tool.Enabled = true

function IsTeamMate(Player1, Player2)
	return (Player1 and Player2 and not Player1.Neutral and not Player2.Neutral and Player1.TeamColor == Player2.TeamColor)
end

function GetNearbyPlayers(Origin, MaxDistance)
	local NearbyPlayers = {}
	for i, v in pairs(Players:GetPlayers()) do
		if v ~= Player and not IsTeamMate(Player, v) then
			local character = v.Character
			if character and character.Parent then
				local ForceFieldFound = false
				for ii, vv in pairs(character:GetChildren()) do
					if vv:IsA("ForceField") then
						ForceFieldFound = true
					end
				end
				if not ForceFieldFound then
					local humanoid = character:FindFirstChild("Humanoid")
					local torso = character:FindFirstChild("Torso")
					if humanoid and humanoid.Health > 0 and torso then
						local Distance = (torso.Position - Origin).magnitude
						if Distance <= MaxDistance then
							table.insert(NearbyPlayers, v)
						end
					end
				end
			end
		end
	end
	return NearbyPlayers
end

function DropGear(character, gear)
	local torso = character:FindFirstChild("Torso")
	if not torso then
		return
	end
	local handle = gear:FindFirstChild("Handle")
	if not handle then
		return
	end
	local FakeHandle = handle:Clone()
	FakeHandle.CanCollide = false
	FakeHandle.Name = gear.Name
	Debris:AddItem(FakeHandle, 3)
	FakeHandle.CFrame = torso.CFrame
	FakeHandle.Parent = game:GetService("Workspace")
	Debris:AddItem(gear, 0)
	gear:Destroy()
	local Velocity = Instance.new("RocketPropulsion")
	Velocity.Target = Handle
	Velocity.Parent = FakeHandle
	Velocity:Fire()
end

function SpawnCash()
	ToolActive = true
	local CurrentlyEquipped = true
	if ToolUnequipped then
		ToolUnequipped:disconnect()
	end
	ToolUnequipped = Tool.Unequipped:connect(function()
		CurrentlyEquipped = false
	end)
	Spawn(function()
		InvokeClient("PlayAnimation", Animations.Shake)
	end)
	Sounds.Shake:Play()
	Spawn(function()
		local Direction = Torso.CFrame.lookVector
		for i = 0, 10, 1 do
			if ToolEquipped and CurrentlyEquipped and CheckIfAlive() then
				local Coin = BaseCoin:Clone()
				local Creator = Instance.new("ObjectValue")
				Creator.Name = "Creator"
				Creator.Value = Player
				Creator.Parent = Coin
				local PickUpScriptCopy = PickUpScript:Clone()
				PickUpScriptCopy.Disabled = false
				PickUpScriptCopy.Parent = Coin
				Coin.CFrame= Torso.CFrame + (Direction * 5) + Vector3.new(((math.random() * 30) - 15), 20, ((math.random() * 30) - 15))
				Debris:AddItem(Coin, 10)
				Coin.Parent = game:GetService("Workspace")
				wait(0.5)
			end
		end
	end)
	local PlayersNearby = GetNearbyPlayers(Torso.Position, MaxDistance)
	for Take = 1, GearTakenPerUse do
		if ToolEquipped and CurrentlyEquipped and CheckIfAlive() then
			for i, v in pairs(PlayersNearby) do
				if v:IsA("Player") and not IsTeamMate(Player, v) then
					local Backpack = v:FindFirstChild("Backpack")
					local character = v.Character
					local humanoid = character:FindFirstChild("Humanoid")
					if Backpack and character and character.Parent and humanoid and humanoid.Health > 0 then
						if Take == 1 then
							local CallScriptClone = CallScript:Clone()
							local LaughTime = Instance.new("NumberValue")
							LaughTime.Name = "LaughTime"
							LaughTime.Value = (GearTakenPerUse * TakeRate)
							LaughTime.Parent = CallScriptClone
							CallScriptClone.Disabled = false
							CallScriptClone.Parent = character
						end
						local Gear = {}
						for ii, vv in pairs({Backpack, character}) do
							for iii, vvv in pairs(vv:GetChildren()) do
								if vvv:IsA("Tool") then
									table.insert(Gear, vvv)
								end
							end
						end
						if #Gear > 0 then
							local GearTaken = Gear[math.random(1, #Gear)]
							if GearTaken.Parent == character then
								humanoid:UnequipTools()
							end
							DropGear(character, GearTaken)
						end
					end
				end
			end
			wait(TakeRate)
		end
	end
	if ToolUnequipped then
		ToolUnequipped:disconnect()
	end
	ToolActive = false
end

function Activated()
	if not Tool.Enabled or not ToolEquipped or ToolActive or not CheckIfAlive() then
		return
	end
	Tool.Enabled = false
	SpawnCash()
	wait(ReloadTime)
	Tool.Enabled = true
end

function CheckIfAlive()
	return (((Player and Player.Parent and Character and Character.Parent and Humanoid and Humanoid.Parent and Humanoid.Health > 0 and Torso and Torso.Parent) and true) or false)
end

function Equipped()
	Character = Tool.Parent
	Player = Players:GetPlayerFromCharacter(Character)
	Humanoid = Character:FindFirstChild("Humanoid")
	Torso = Character:FindFirstChild("Torso")
	if not CheckIfAlive() then
		return
	end
	Tool.Grip = Grips.Equipped
	ToolEquipped = true
end

function Unequipped()
	for i, v in pairs(Sounds) do
		if v and v.Parent then
			v:Stop()
		end
	end
	Tool.Grip = Grips.Unequipped
	ToolEquipped = false
end

function InvokeClient(Mode, Value)
	local ClientReturn = nil
	pcall(function()
		ClientReturn = ClientControl:InvokeClient(Player, Mode, Value)
	end)
	return ClientReturn
end

ServerControl.OnServerInvoke = (function(player, Mode, Value)
	if player ~= Player or not ToolEquipped or not CheckIfAlive() or not Mode or not Value then
		return
	end
end)

Tool.Activated:connect(Activated)
Tool.Equipped:connect(Equipped)
Tool.Unequipped:connect(Unequipped)]]></ProtectedString>
			</Properties>
			<Item class="Script" referent="RBXC40A86B332514D4A8B5B82D3F74E4F89">
				<Properties>
					<bool name="Disabled">true</bool>
					<Content name="LinkedSource"><null></null></Content>
					<string name="Name">PickUpScript</string>
					<ProtectedString name="Source"><![CDATA[--Rescripted by Luckymaxer

Part = script.Parent

Debris = game:GetService("Debris")

Creator = Part:FindFirstChild("Creator")

Sounds = {
	PickUp = Part:WaitForChild("PickUpSound")
}

Enabled = true

function Touched(Hit)
	if not Hit or not Hit.Parent or not Enabled then
		return
	end
	local character = Hit.Parent
	if Creator and Creator.Value and Creator.Value:IsA("Player") and character == Creator.Value.Character then
		return
	end
	local humanoid = character:FindFirstChild("Humanoid")
	if not humanoid or humanoid.Health == 0 then
		return
	end
	Enabled = false
	Debris:AddItem(Part, 1.5)
	Part.Transparency = 1
	Sounds.PickUp:Play()	
end

Part.Touched:connect(Touched)]]></ProtectedString>
				</Properties>
			</Item>
			<Item class="LocalScript" referent="RBX91331FA97E0A461EB32771272E3B51EA">
				<Properties>
					<bool name="Disabled">true</bool>
					<Content name="LinkedSource"><null></null></Content>
					<string name="Name">CallScript</string>
					<ProtectedString name="Source"><![CDATA[--Rescripted by Luckymaxer

Debris = game:GetService("Debris")

Character = script.Parent
Humanoid = Character:FindFirstChild("Humanoid")

LaughTime = script:WaitForChild("LaughTime")

LaughAnimation = script:WaitForChild("LaughAnimation")
CheerSound = script:WaitForChild("CheerSound")

CheerSound:Play()
LaughTrack = Humanoid:LoadAnimation(LaughAnimation)
LaughTrack:Play(nil, nil, 3)

function DestroyScript()
	Debris:AddItem(script, 0.5)
	script:Destroy()
end

if not Humanoid or Humanoid.Health == 0 then
	DestroyScript()
	return
end

Delay(LaughTime.Value, (function()
	LaughTrack:Stop()
	CheerSound:Stop()
	DestroyScript()
end))]]></ProtectedString>
				</Properties>
				<Item class="Sound" referent="RBX4D283F1C9CF248D1B423886BC0EB9C5D">
					<Properties>
						<bool name="Looped">false</bool>
						<string name="Name">CheerSound</string>
						<float name="Pitch">1</float>
						<bool name="PlayOnRemove">false</bool>
						<Content name="SoundId"><url>http://www.roblox.com/asset/?id=99848490</url></Content>
						<float name="Volume">1</float>
					</Properties>
				</Item>
				<Item class="Animation" referent="RBXC8B1B02B3851499B8BC54D8987075503">
					<Properties>
						<Content name="AnimationId"><url>http://www.roblox.com/asset/?id=99815141</url></Content>
						<string name="Name">LaughAnimation</string>
					</Properties>
				</Item>
			</Item>
		</Item>
		<Item class="LocalScript" referent="RBXF67F9913324448EF8325BBA4AEB0EF7A">
			<Properties>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">LocalScript</string>
				<ProtectedString name="Source"><![CDATA[--Made by Luckymaxer

Tool = script.Parent
Handle = Tool:WaitForChild("Handle")

Players = game:GetService("Players")
Debris = game:GetService("Debris")
ContentProvider = game:GetService("ContentProvider")

RbxUtility = LoadLibrary("RbxUtility")
Create = RbxUtility.Create

Animations = {}

ServerControl = Tool:WaitForChild("ServerControl")
ClientControl = Tool:WaitForChild("ClientControl")

ToolEquipped = false

function SetAnimation(mode, value)
	local function StopAnimation(Animation, Fade)
		for i, v in pairs(Animations) do
			if v.Animation == Animation then
				v.AnimationTrack:Stop((Fade and value.FadeTime) or nil)
				if v.TrackStopped then
					v.TrackStopped:disconnect()
				end
				table.remove(Animations, i)
			end
		end
	end
	if mode == "PlayAnimation" then
		for i, v in pairs(Animations) do
			if v.Animation == value.Animation then
				if value.Speed then
					v.AnimationTrack:AdjustSpeed(value.Speed)
					return
				elseif value.Weight or value.FadeTime then
					v.AnimationTrack:AdjustWeight(value.Weight, value.FadeTime)
					return
				else
					StopAnimation(value.Animation, false)
				end
			end
		end
		local AnimationMonitor = Create("Model"){}
		local TrackEnded = Create("StringValue"){Name = "Ended"}
		local AnimationTrack = Humanoid:LoadAnimation(value.Animation)
		local TrackStopped
		TrackStopped = AnimationTrack.Stopped:connect(function()
			if TrackStopped then
				TrackStopped:disconnect()
			end
			StopAnimation(value.Animation, true)
			TrackEnded.Parent = AnimationMonitor
		end)
		table.insert(Animations, {Animation = value.Animation, AnimationTrack = AnimationTrack, TrackStopped = TrackStopped})
		AnimationTrack:Play(value.FadeTime, value.Weight, value.Speed)
		AnimationMonitor:WaitForChild(TrackEnded.Name)
		return TrackEnded.Name
	elseif mode == "StopAnimation" and value then
		StopAnimation(value.Animation, true)
	end
end

function CheckIfAlive()
	return (((Character and Character.Parent and Humanoid and Humanoid.Parent and Humanoid.Health > 0 and Player and Player.Parent) and true) or false)
end

function Equipped(Mouse)
	Character = Tool.Parent
	Player = Players:GetPlayerFromCharacter(Character)
	Humanoid = Character:FindFirstChild("Humanoid")
	if not CheckIfAlive() then
		return
	end
	ToolEquipped = true
end

function Unequipped()
	for i, v in pairs(Animations) do
		if v and v.AnimationTrack then
			v.AnimationTrack:Stop()
		end
	end
	Animations = {}
	ToolEquipped = false
end

function InvokeServer(mode, value)
	local ServerReturn
	pcall(function()
		ServerReturn = ServerControl:InvokeServer(mode, value)
	end)
	return ServerReturn
end

function OnClientInvoke(mode, value)
	if mode == "PlayAnimation" and value and ToolEquipped and Humanoid then
		return SetAnimation("PlayAnimation", value)
	elseif mode == "StopAnimation" and value then
		SetAnimation("StopAnimation", value)
	end
end

ClientControl.OnClientInvoke = OnClientInvoke
Tool.Equipped:connect(Equipped)
Tool.Unequipped:connect(Unequipped)]]></ProtectedString>
			</Properties>
		</Item>
		<Item class="LocalScript" referent="RBXE23281C66606467D8650EF5219925BE2">
			<Properties>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">MouseIcon</string>
				<ProtectedString name="Source"><![CDATA[--Made by Luckymaxer

Mouse_Icon = "rbxasset://textures/GunCursor.png"
Reloading_Icon = "rbxasset://textures/GunWaitCursor.png"

Tool = script.Parent

Mouse = nil

function UpdateIcon()
	if Mouse then
		Mouse.Icon = Tool.Enabled and Mouse_Icon or Reloading_Icon
	end
end

function OnEquipped(ToolMouse)
	Mouse = ToolMouse
	UpdateIcon()
end

function OnChanged(Property)
	if Property == "Enabled" then
		UpdateIcon()
	end
end

Tool.Equipped:connect(OnEquipped)
Tool.Changed:connect(OnChanged)
]]></ProtectedString>
			</Properties>
		</Item>
	</Item>
</roblox>